<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Oracle</title>
    <style>
        /* == ĞĞ‘Ğ©Ğ˜Ğ™ Ğ¡Ğ¢Ğ˜Ğ›Ğ¬ Ğ˜ Ğ¢Ğ•ĞœĞ == */
        body {
            background: radial-gradient(circle at center, #1a1a2e 0%, #000000 100%);
            color: #e0e0e0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            text-align: center;
            overflow: hidden;
            position: relative;
            -webkit-tap-highlight-color: transparent; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ¸Ğ½Ğ¸Ğ¹ ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚ Ğ¿Ñ€Ğ¸ Ñ‚Ğ°Ğ¿Ğµ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… */
        }

        /* ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° RTL (Ğ˜Ğ²Ñ€Ğ¸Ñ‚, ĞÑ€Ğ°Ğ±ÑĞºĞ¸Ğ¹) */
        body.rtl { direction: rtl; font-family: 'Tahoma', sans-serif; }

        /* Ğ—Ğ’Ğ•Ğ—Ğ”Ğ« ĞĞ Ğ¤ĞĞĞ• */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: twinkle infinite ease-in-out;
            z-index: -1;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.5); box-shadow: 0 0 0 white; }
            50% { opacity: 1; transform: scale(1.2); box-shadow: 0 0 10px white; }
        }

        /* ĞšĞĞĞ¢Ğ•Ğ™ĞĞ•Ğ Ğ« Ğ­ĞšĞ ĞĞĞĞ’ */
        .screen { display: none; width: 100%; max-width: 400px; flex-direction: column; align-items: center; z-index: 10; }
        .active { display: flex; animation: fadeIn 0.8s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ĞŸĞĞĞ•Ğ›Ğ¬ Ğ¯Ğ—Ğ«ĞšĞĞ’ */
        .lang-panel { display: flex; gap: 10px; margin-bottom: 30px; z-index: 20; }
        .lang-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid #6c5ce7;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s;
        }
        .lang-btn.selected { background: #6c5ce7; box-shadow: 0 0 10px #6c5ce7; border-color: #a29bfe; }

        /* Ğ¢Ğ˜ĞŸĞĞ“Ğ ĞĞ¤Ğ˜ĞšĞ */
        h1 { color: #d1ccc0; text-shadow: 0 0 15px #6c5ce7; margin-bottom: 20px; font-size: 24px; line-height: 1.2; }
        p { line-height: 1.6; font-size: 16px; color: #b2bec3; margin-bottom: 10px; }

        /* ĞšĞĞĞŸĞšĞ˜ Ğ¢Ğ•Ğœ (Ğ“Ğ Ğ˜Ğ”) */
        .grid-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
        }
        .topic-btn {
            background: rgba(255, 255, 255, 0.07);
            border: 1px solid rgba(108, 92, 231, 0.5);
            color: #fff;
            padding: 15px;
            border-radius: 16px;
            font-size: 16px;
            cursor: pointer;
            backdrop-filter: blur(5px);
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100px;
        }
        .topic-btn span { font-size: 32px; display: block; margin-bottom: 8px; }
        .topic-btn:hover { background: rgba(108, 92, 231, 0.4); transform: translateY(-3px); border-color: #fff; }
        .topic-btn:active { transform: scale(0.95); }

        /* Ğ“Ğ›ĞĞ’ĞĞĞ¯ ĞšĞĞĞŸĞšĞ (CTA) */
        .main-btn {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            border: none;
            padding: 18px 40px;
            color: white;
            font-size: 18px;
            border-radius: 50px;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(108, 92, 231, 0.6);
            cursor: pointer;
            margin-top: 25px;
            width: 85%;
            animation: pulse-btn 2s infinite;
        }
        @keyframes pulse-btn { 
            0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); } 
            70% { box-shadow: 0 0 0 15px rgba(108, 92, 231, 0); } 
            100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); } 
        }

        /* Ğ‘Ğ›ĞĞš Ğ¡ Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢ĞĞœ */
        #result-text {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #a29bfe;
            padding: 20px;
            border-radius: 15px;
            text-align: left;
            font-size: 16px;
            line-height: 1.6;
            width: 100%;
            box-sizing: border-box;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
            margin-bottom: 20px;
            min-height: 120px;
            overflow-y: auto;
            max-height: 50vh;
        }
        
        /* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚ AI */
        #result-text b { color: #ff7675; font-weight: bold; }
        body.rtl #result-text { text-align: right; }

        /* Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ */
        .loader { font-size: 50px; animation: spin 1.5s linear infinite; display: none; margin: 30px auto; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞĞ°Ğ·Ğ°Ğ´" */
        .back-link { margin-top: 20px; color: #a29bfe; cursor: pointer; text-decoration: underline; opacity: 0.8; }
        
        /* ĞšĞ½Ğ¾Ğ¿ĞºĞ° Share */
        .share-btn {
            background: linear-gradient(135deg, #00b894, #55efc4);
            border: none;
            padding: 15px;
            color: #000;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 10px;
            box-shadow: 0 0 15px rgba(0, 184, 148, 0.4);
        }

    </style>
</head>
<body>

    <div id="stars-container"></div>

    <div id="screen-welcome" class="screen active">
        <div class="lang-panel">
            <button class="lang-btn" onclick="setLanguage('ru')">RU</button>
            <button class="lang-btn selected" onclick="setLanguage('en')">EN</button>
            <button class="lang-btn" onclick="setLanguage('he')">HE</button>
            <button class="lang-btn" onclick="setLanguage('ar')">AR</button>
        </div>

        <h1 id="txt-welcome-title">ğŸŒŒ ĞŸĞ Ğ˜Ğ’Ğ•Ğ¢, Ğ¡Ğ¢Ğ ĞĞĞĞ˜Ğš</h1>
        <div style="font-size: 80px; margin: 20px;">ğŸ§™â€â™‚ï¸</div>
        <p id="txt-welcome-desc">
            Ğ¯ â€” Ğ”Ñ€ĞµĞ²Ğ½Ğ¸Ğ¹ ĞÑ€Ğ°ĞºÑƒĞ».<br>Ğ¯ Ğ·Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ½Ğ° Ñ‚Ğ²Ğ¾Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹.<br>Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğ»Ğ¸ Ñ‚Ñ‹ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ´Ñƒ?
        </p>

        <button class="main-btn" onclick="showScreen('screen-select')" id="txt-btn-start">Ğ’ĞĞ™Ğ¢Ğ˜ Ğ’ ĞŸĞĞ Ğ¢ĞĞ›</button>
    </div>

    <div id="screen-select" class="screen">
        <h1 id="txt-select-title">ğŸ”® Ğ’Ğ«Ğ‘Ğ•Ğ Ğ˜ Ğ¢Ğ•ĞœĞ£</h1>
        <div class="grid-container">
            <button class="topic-btn" onclick="selectTopic('love')">
                <span>â¤ï¸</span> <div id="btn-love">Ğ›ÑĞ±Ğ¾Ğ²ÑŒ</div>
            </button>
            <button class="topic-btn" onclick="selectTopic('money')">
                <span>ğŸ’</span> <div id="btn-money">Ğ”ĞµĞ½ÑŒĞ³Ğ¸</div>
            </button>
            <button class="topic-btn" onclick="selectTopic('yesno')">
                <span>âš–ï¸</span> <div id="btn-yesno">Ğ”Ğ° / ĞĞµÑ‚</div>
            </button>
            <button class="topic-btn" onclick="selectTopic('today')">
                <span>ğŸƒ</span> <div id="btn-today">ĞšĞ°Ñ€Ñ‚Ğ° Ğ”Ğ½Ñ</div>
            </button>
            <button class="topic-btn" onclick="selectTopic('advice')">
                <span>âœ¨</span> <div id="btn-advice">Ğ¡Ğ¾Ğ²ĞµÑ‚</div>
            </button>
            <button class="topic-btn" onclick="selectTopic('secret')">
                <span>ğŸ‘ï¸</span> <div id="btn-secret">Ğ¢Ğ°Ğ¹Ğ½Ğ¾Ğµ</div>
            </button>
        </div>
        <div class="back-link" onclick="showScreen('screen-welcome')">ğŸŒ Change Language</div>
    </div>

    <div id="screen-focus" class="screen">
        <h1 id="txt-focus-title">âœ¨ Ğ¡Ğ’Ğ¯Ğ—Ğ¬...</h1>
        <div style="font-size: 80px; margin: 20px; animation: pulse-btn 3s infinite;">ğŸ”®</div>
        <p id="focus-msg">Ğ”ÑƒÑ…Ğ¸ ÑĞ»ÑƒÑˆĞ°ÑÑ‚...</p>
        <p id="txt-focus-hint" style="font-size: 14px; opacity: 0.7;">(Ğ—Ğ°Ğ´Ğ°Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ¼Ñ‹ÑĞ»ĞµĞ½Ğ½Ğ¾)</p>
        
        <button class="main-btn" onclick="askOracle()" id="txt-btn-ask">ĞŸĞĞ›Ğ£Ğ§Ğ˜Ğ¢Ğ¬ ĞĞ¢Ğ’Ğ•Ğ¢</button>
        <div class="back-link" onclick="goBack()" id="txt-back">â† ĞĞ°Ğ·Ğ°Ğ´</div>
    </div>

    <div id="screen-result" class="screen">
        <h1 id="txt-result-title">ğŸŒŒ ĞŸĞ ĞĞ ĞĞ§Ğ•Ğ¡Ğ¢Ğ’Ğ</h1>
        <div id="loader" class="loader">ğŸŒ€</div>
        <div id="result-text"></div>
        
        <button class="share-btn" onclick="shareApp()" id="txt-share">ğŸš€ ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ</button>
        
        <button class="topic-btn" style="width: 100%; padding: 10px; min-height: auto;" onclick="goBack()" id="txt-btn-again">ğŸ”„ Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°</button>
    </div>

    <script>
        // === ĞŸĞ•Ğ Ğ•ĞœĞ•ĞĞĞ«Ğ• Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ¯ ===
        let currentLang = 'ru';
        let currentTopicKey = '';

        // === Ğ¡Ğ›ĞĞ’ĞĞ Ğ¬ (Ğ¢Ğ•ĞšĞ¡Ğ¢Ğ«) ===
        const dictionary = {
            ru: {
                welcomeTitle: "ğŸŒŒ ĞŸĞ Ğ˜Ğ’Ğ•Ğ¢, Ğ¡Ğ¢Ğ ĞĞĞĞ˜Ğš",
                welcomeDesc: "Ğ¯ â€” Ğ”Ñ€ĞµĞ²Ğ½Ğ¸Ğ¹ ĞÑ€Ğ°ĞºÑƒĞ».<br>Ğ¯ Ğ·Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ½Ğ° Ñ‚Ğ²Ğ¾Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹.<br>Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğ»Ğ¸ Ñ‚Ñ‹ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ´Ñƒ?",
                btnStart: "Ğ’ĞĞ™Ğ¢Ğ˜ Ğ’ ĞŸĞĞ Ğ¢ĞĞ›",
                selectTitle: "ğŸ”® Ğ’Ğ«Ğ‘Ğ•Ğ Ğ˜ Ğ¢Ğ•ĞœĞ£",
                focusTitle: "âœ¨ Ğ¡Ğ’Ğ¯Ğ—Ğ¬...",
                focusHint: "(Ğ—Ğ°Ğ´Ğ°Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ¼Ñ‹ÑĞ»ĞµĞ½Ğ½Ğ¾)",
                btnAsk: "ĞŸĞĞ›Ğ£Ğ§Ğ˜Ğ¢Ğ¬ ĞĞ¢Ğ’Ğ•Ğ¢",
                resultTitle: "ğŸŒŒ ĞŸĞ ĞĞ ĞĞ§Ğ•Ğ¡Ğ¢Ğ’Ğ",
                btnAgain: "ğŸ”„ Ğ¡Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°",
                back: "â† ĞĞ°Ğ·Ğ°Ğ´",
                share: "ğŸš€ ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¾Ñ€Ğ¾Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼",
                shareText: "ğŸ”® ĞÑ€Ğ°ĞºÑƒĞ» Ğ´Ğ°Ğ» Ğ¼Ğ½Ğµ Ğ¿Ñ€ĞµĞ´ÑĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ! Ğ£Ğ·Ğ½Ğ°Ğ¹ ÑĞ²Ğ¾Ğµ Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ Ñ‚ÑƒÑ‚: ",
                topics: {
                    love: "Ğ›ÑĞ±Ğ¾Ğ²ÑŒ", money: "Ğ”ĞµĞ½ÑŒĞ³Ğ¸", yesno: "Ğ”Ğ° / ĞĞµÑ‚", today: "ĞšĞ°Ñ€Ñ‚Ğ° Ğ”Ğ½Ñ", advice: "Ğ¡Ğ¾Ğ²ĞµÑ‚", secret: "Ğ¢Ğ°Ğ¹Ğ½Ğ¾Ğµ"
                },
                focusMsg: "Ğ¢ĞµĞ¼Ğ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: "
            },
            en: {
                welcomeTitle: "ğŸŒŒ HELLO, TRAVELER",
                welcomeDesc: "I am the Ancient Oracle.<br>I know the answers you seek.<br>Are you ready to face the truth?",
                btnStart: "ENTER PORTAL",
                selectTitle: "ğŸ”® CHOOSE A PATH",
                focusTitle: "âœ¨ CONNECTING...",
                focusHint: "(Think of your question now)",
                btnAsk: "REVEAL FATE",
                resultTitle: "ğŸŒŒ PROPHECY",
                btnAgain: "ğŸ”„ Ask Another",
                back: "â† Back",
                share: "ğŸš€ Share Prophecy",
                shareText: "ğŸ”® The Oracle revealed my fate! Check yours here: ",
                topics: {
                    love: "Love", money: "Money", yesno: "Yes / No", today: "Card of Day", advice: "Advice", secret: "Secret"
                },
                focusMsg: "Topic: "
            },
            he: {
                welcomeTitle: "ğŸŒŒ ×©×œ×•× ×œ× ×•×“×“",
                welcomeDesc: "×× ×™ ×”××•×¨×§×œ ×”×¢×ª×™×§.<br>×× ×™ ×™×•×“×¢ ××ª ×”×ª×©×•×‘×•×ª ×œ×©××œ×•×ª×™×š.<br>×”×× ××ª×” ××•×›×Ÿ ×œ×’×œ×•×ª ××ª ×”×××ª?",
                btnStart: "×”×›× ×¡ ×œ×¤×•×¨×˜×œ",
                selectTitle: "ğŸ”® ×‘×—×¨ × ×•×©×",
                focusTitle: "âœ¨ ××ª×—×‘×¨...",
                focusHint: "(×—×©×•×‘ ×¢×œ ×”×©××œ×” ×›×¢×ª)",
                btnAsk: "×’×œ×” ××ª ×”×¢×ª×™×“",
                resultTitle: "ğŸŒŒ × ×‘×•××”",
                btnAgain: "ğŸ”„ ×©××œ ×©×•×‘",
                back: "â†’ ×—×–×•×¨",
                share: "ğŸš€ ×©×ª×£ ××ª ×”× ×‘×•××”",
                shareText: "ğŸ”® ×”××•×¨×§×œ ×’×™×œ×” ×œ×™ ××ª ×¢×ª×™×“×™! ×‘×“×•×§ ××ª ×©×œ×š ×›××Ÿ: ",
                topics: {
                    love: "××”×‘×”", money: "×›×¡×£", yesno: "×›×Ÿ / ×œ×", today: "×§×œ×£ ×™×•××™", advice: "×¢×¦×”", secret: "×¡×•×“"
                },
                focusMsg: "× ×•×©× ×”×©××œ×”: "
            },
            ar: {
                welcomeTitle: "ğŸŒŒ Ø£Ù‡Ù„Ø§Ù‹ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ø³Ø§ÙØ±",
                welcomeDesc: "Ø£Ù†Ø§ Ø§Ù„Ø¹Ø±Ø§Ù Ø§Ù„Ù‚Ø¯ÙŠÙ….<br>Ø£Ø¹Ø±Ù Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªØ¨Ø­Ø« Ø¹Ù†Ù‡Ø§.<br>Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©ØŸ",
                btnStart: "Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©",
                selectTitle: "ğŸ”® Ø§Ø®ØªØ± Ù…Ø³Ø§Ø±Ùƒ",
                focusTitle: "âœ¨ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...",
                focusHint: "(ÙÙƒØ± ÙÙŠ Ø³Ø¤Ø§Ù„Ùƒ Ø§Ù„Ø¢Ù†)",
                btnAsk: "Ø§ÙƒØ´Ù Ø§Ù„Ù…ØµÙŠØ±",
                resultTitle: "ğŸŒŒ Ø§Ù„Ù†Ø¨ÙˆØ¡Ø©",
                btnAgain: "ğŸ”„ Ø§Ø³Ø£Ù„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
                back: "â†’ Ø±Ø¬ÙˆØ¹",
                share: "ğŸš€ Ø´Ø§Ø±Ùƒ Ø§Ù„Ù†Ø¨ÙˆØ¡Ø©",
                shareText: "ğŸ”® ÙƒØ´Ù Ø§Ù„Ø¹Ø±Ø§Ù Ø¹Ù† Ù‚Ø¯Ø±ÙŠ! ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø¯Ø±Ùƒ Ù‡Ù†Ø§: ",
                topics: {
                    love: "Ø­Ø¨", money: "Ù…Ø§Ù„", yesno: "Ù†Ø¹Ù… / Ù„Ø§", today: "Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙŠÙˆÙ…", advice: "Ù†ØµÙŠØ­Ø©", secret: "Ø³Ø±"
                },
                focusMsg: "Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„: "
            }
        };

        // === ĞœĞĞ“Ğ˜Ğ¯ Ğ—Ğ’Ğ•Ğ—Ğ” ===
        function createStars() {
            const container = document.getElementById('stars-container');
            for (let i = 0; i < 40; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 3 + 1;
                const duration = Math.random() * 3 + 2;
                star.style.left = x + '%';
                star.style.top = y + '%';
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.animationDuration = duration + 's';
                container.appendChild(star);
            }
        }
        createStars();

        // === Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ• Ğ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡ĞĞœ ===
        window.setLanguage = function(lang) {
            currentLang = lang;
            
            // UI ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');

            // RTL
            if (lang === 'he' || lang === 'ar') document.body.classList.add('rtl');
            else document.body.classList.remove('rtl');

            // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ñ‚ĞµĞºÑÑ‚Ñ‹
            const t = dictionary[lang];
            document.getElementById('txt-welcome-title').innerText = t.welcomeTitle;
            document.getElementById('txt-welcome-desc').innerHTML = t.welcomeDesc;
            document.getElementById('txt-btn-start').innerText = t.btnStart;
            document.getElementById('txt-select-title').innerText = t.selectTitle;
            document.getElementById('txt-focus-title').innerText = t.focusTitle;
            document.getElementById('txt-focus-hint').innerText = t.focusHint;
            document.getElementById('txt-btn-ask').innerText = t.btnAsk;
            document.getElementById('txt-result-title').innerText = t.resultTitle;
            document.getElementById('txt-btn-again').innerText = t.btnAgain;
            document.getElementById('txt-back').innerText = t.back;
            document.getElementById('txt-share').innerText = t.share;

            document.getElementById('btn-love').innerText = t.topics.love;
            document.getElementById('btn-money').innerText = t.topics.money;
            document.getElementById('btn-yesno').innerText = t.topics.yesno;
            document.getElementById('btn-today').innerText = t.topics.today;
            document.getElementById('btn-advice').innerText = t.topics.advice;
            document.getElementById('btn-secret').innerText = t.topics.secret;
        }

        window.showScreen = function(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        window.selectTopic = function(key) {
            currentTopicKey = key;
            const t = dictionary[currentLang];
            document.getElementById('focus-msg').innerText = t.focusMsg + t.topics[key];
            showScreen('screen-focus');
        }

        window.goBack = function() {
            showScreen('screen-select');
            document.getElementById('result-text').innerHTML = "";
            document.getElementById('loader').style.display = "none";
        }

        window.shareApp = function() {
            const t = dictionary[currentLang];
            // Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ÑÑĞ´Ğ° ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° ÑĞ²Ğ¾ĞµĞ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ°
            const botUrl = "https://t.me/YOUR_BOT_NAME"; 
            const text = t.shareText;
            const tgLink = `https://t.me/share/url?url=${encodeURIComponent(botUrl)}&text=${encodeURIComponent(text)}`;
            window.open(tgLink, '_blank');
        }

        // === ĞĞ‘Ğ ĞĞ©Ğ•ĞĞ˜Ğ• Ğš Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ£ (BACKEND) ===
        window.askOracle = async function() {
            showScreen('screen-result');
            const resultBox = document.getElementById('result-text');
            const loader = document.getElementById('loader');
            
            resultBox.innerHTML = "";
            loader.style.display = "block";

            // ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ´Ğ»Ñ AI
            let langName = "Russian";
            if(currentLang === 'en') langName = "English";
            if(currentLang === 'he') langName = "Hebrew";
            if(currentLang === 'ar') langName = "Arabic";

            const t = dictionary[currentLang];
            const topicName = t.topics[currentTopicKey];
            
            // Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€
            const promptData = `
                You are a mystical Oracle. 
                User Language: ${langName}.
                Topic: ${topicName}.
                Task: Give a short, mystical prediction/advice. 
                Format using HTML tags: use <br> for new lines, <b> for emphasis.
                Use emojis at the start of sentences.
                Structure: 1. Mystical intro. 2. Direct answer. 3. Short advice.
                If topic is "Yes / No", start with bold YES or NO in ${langName}.
                Output must be fully in ${langName}.
            `;

            try {
                // ĞĞ¢ĞŸĞ ĞĞ’Ğ›Ğ¯Ğ•Ğœ Ğ—ĞĞŸĞ ĞĞ¡ ĞĞ ĞĞĞ¨ Ğ¡Ğ•Ğ Ğ’Ğ•Ğ  (api/oracle.js)
                const response = await fetch('/api/oracle', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: promptData })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Server error');
                }

                // ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¾Ñ‚ Ğ¼Ğ°Ñ€ĞºĞ´Ğ°ÑƒĞ½Ğ° (ĞµÑĞ»Ğ¸ Ğ²Ğ´Ñ€ÑƒĞ³ Ğ¿Ñ€Ğ¸Ğ´ĞµÑ‚)
                let cleanText = data.text.replace(/```html/g, "").replace(/```/g, "");

                loader.style.display = "none";
                resultBox.innerHTML = cleanText;

            } catch (error) {
                loader.style.display = "none";
                console.error(error);
                resultBox.innerText = (currentLang === 'ru') 
                    ? "Ğ¡Ğ²ÑĞ·ÑŒ Ñ ĞºĞ¾ÑĞ¼Ğ¾ÑĞ¾Ğ¼ Ğ¿Ñ€ĞµÑ€Ğ²Ğ°Ğ½Ğ°... ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ." 
                    : "Connection lost... Try again later.";
            }
        }
    </script>
</body>
</html>
